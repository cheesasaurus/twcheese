{"version":3,"sources":["Sidebar.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","AbstractWidget","[object Object]","el","this","_beforeInsert","$","before","$el","after","append","afterInsert","callback","observer","MutationObserver","mutations","outerloop","mutation","node","addedNodes","contains","setTimeout","disconnect","observe","document","attributes","childList","subtree","afterDOMInsert","game","window","image_base","ImageSrc_self","TwCheese","ROOT","ImageSrc","escapeHtml","text","String","map","&","<",">","\"","'","replace","cssInitd","Set","initCss","css","has","appendTo","add","DebugEvents","PHASE_COMPLETION_READY","PHASE_COMPLETION_NOT_READY","PHASE_CHANGED","QUESTION_ANSWERED","QUESTION_NOT_ANSWERED","OPTION_VALUE_CHANGED","BUG_REPORT_SUCCEEDED","BUG_REPORT_FAILED","USER_REJECTED","PhaseTypes","ATTEMPT","QUESTION","REPORT","QuestionTypes","VALUE","FREE_FORM","SELECT","QuestionWidget_QuestionWidget","question","super","initStructure","watchSelf","createHtml","trim","$answers","find","options","length","option","push","className","getType","_createHtmlQuestionFreeForm","_createHtmlQuestionAboutValue","_createHtmlQuestionSelect","Error","join","valueRendered","createHtmlForValue","toDebugString","entries","input","propName","propVal","createLabelForValue","toString","defaultLabel","imageSrc","on","e","removeClass","$answer","target","addClass","setSelectedOption","data","setValue","val","AttemptWidget_AttemptWidget","phase","$abort","hide","instructions","createHtmlForUserInteraction","createHtmlForAutoAttempt","userAbort","showAbortButton","show","trigger","ReportWidget_ReportWidget","watchPhase","html","DebuggerWidget_DebuggerWidget","watchGlobal","process","$header","$content","$nav","$next","$processName","$inspector","$iframe","$iframeOverlay","goToNextPhase","updateScrolling","startProcess","newDebugProcess","lastToolUsedId","hasNextPhase","renderCurrentPhase","start","getCurrentPhase","_renderPhaseQuestion","_renderPhaseAttempt","_renderPhaseReport","questions","examinedHtml","openInspector","widget","parent","size","replaceWith","height","availableVert","innerHeight","outerHeight","slimScroll","Math","min","color","opacity","borderRadius","alwaysVisible","win","contentWindow","doc","open","write","close","Timing","pause","width","body","scrollWidth","calcMaxIframeWidth","documentElement","clientWidth","outerWidth","SidebarWidget_SidebarWidget","isExpandedVert","activeMenuItem","contents","bugReporter","watchContents","$menuMain","$mainIcon","$menuBug","$menuGithub","toggleExpand","hasClass","shrinkHoriz","startProcessForLastUsedToolIfSensible","expandHoriz","each","content","durationHoriz","durationSpin","spinMainIcon","shrinkVert","expandVert","durationMs","deg","animate","duration","step","angle","transform","Promise","resolve","reject","complete","easing","registerTool","id","use","getDebugProcess"],"mappings":"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","file":"../Sidebar.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/Widget/AbstractWidget.js\n\r\nfunction afterDOMInsert(el, callback) {\r\n    let observer = new MutationObserver((mutations) => {\r\n        outerloop:\r\n            for (let mutation of mutations) {\r\n                for (let node of mutation.addedNodes) {\r\n                    if (node === el || node.contains(el)) {\r\n                        setTimeout(callback, 0);\r\n                        observer.disconnect();\r\n                        break outerloop;\r\n                    }\r\n                }\r\n            }\r\n    });\r\n\r\n    observer.observe(document, {\r\n        attributes: true,\r\n        childList: true,\r\n        subtree: true\r\n    });\r\n}\r\n\r\n\r\nclass AbstractWidget {\r\n\r\n    insertBefore(el) {\r\n        this._beforeInsert();\r\n        $(el).before(this.$el);\r\n        return this;\r\n    }\r\n\r\n    insertAfter(el) {\r\n        this._beforeInsert();\r\n        $(el).after(this.$el);\r\n        return this;\r\n    }\r\n\r\n    appendTo(el) {\r\n        this._beforeInsert();\r\n        $(el).append(this.$el);\r\n        return this;\r\n    }\r\n\r\n    _beforeInsert() {\r\n        if (typeof this.afterInsert !== 'function') {\r\n            return;\r\n        }\r\n        let el = this.$el[0];\r\n        afterDOMInsert(el, () => this.afterInsert());\r\n    }\r\n\r\n}\r\n\r\n\n// CONCATENATED MODULE: ./conf/ImageSrc.js\nlet game = window.image_base;\r\nlet ImageSrc_self = window.TwCheese.ROOT + '/assets/images/';\r\n\r\nlet ImageSrc = {\r\n    plus: game + 'plus.png',\r\n    minus: game + 'minus.png',\r\n    wood: game + 'holz.png',\r\n    stone: game + 'lehm.png',\r\n    iron: game + 'eisen.png',\r\n    attack: game + 'command/attack.png',\r\n    haulPartial: game + 'max_loot/0.png',\r\n    haulFull: game + 'max_loot/1.png',\r\n    info: game + 'questionmark.png',\r\n    attackSentViaFa: game + 'command/farm.png',\r\n    attackSizeSmall: game + 'command/attack_small.png',\r\n    attackSizeMedium: game + 'command/attack_medium.png',\r\n    attackSizeLarge: game + 'command/attack_large.png',\r\n    attackContainsSnob: game + 'command/snob.png',\r\n    attackContainsSpy: game + 'command/spy.png',\r\n    attackContainsKnight: game + 'command/knight.png',\r\n    popupBackground: game + 'popup/content_background.png',\r\n    popupBorder: game + 'popup/border.png',\r\n    servant: game + 'paladin_new.png',\r\n    loadingSpinner: game + 'throbber.gif',\r\n    calendar: ImageSrc_self + 'calendar.png',\r\n    sidebarMain: ImageSrc_self + 'sidebar/gear.png',\r\n    sidebarBug: ImageSrc_self + 'sidebar/bug.png',\r\n    sidebarGithub: ImageSrc_self + 'sidebar/github.png',\r\n    jq: {\r\n        blue: ImageSrc_self + 'jquery/ui-icons_2e83ff_256x240.png',\r\n        black: ImageSrc_self + 'jquery/ui-icons_222222_256x240.png',\r\n        darkGrey: ImageSrc_self + 'jquery/ui-icons_454545_256x240.png',\r\n        grey: ImageSrc_self + 'jquery/ui-icons_888888_256x240.png',\r\n        red: ImageSrc_self + 'jquery/ui-icons_cd0a0a_256x240.png'\r\n    },\r\n    legacy: {\r\n        helpBackground: ImageSrc_self + 'legacy/help_background.png',\r\n        helpBackgroundBright: ImageSrc_self + 'legacy/help_background_highlight.png'\r\n    },    \r\n    buildingIcon: buildingType => game + `buildings/${buildingType}.png`,\r\n    troopIcon: troopType => game + `unit/unit_${troopType}.png`,\r\n    dotIcon: color => game + `dots/${color}.png`,\r\n    scavengeOption: optionId => game + `scavenging/options/${optionId}.png`,\r\n};\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/Util/UI.js\n\r\n\r\n\r\nfunction escapeHtml(text) {\r\n    if (typeof text !== 'string') {\r\n        text = String(text);\r\n    }\r\n    // https://stackoverflow.com/a/4835406\r\n    var map = {\r\n      '&': '&amp;',\r\n      '<': '&lt;',\r\n      '>': '&gt;',\r\n      '\"': '&quot;',\r\n      \"'\": '&#039;'\r\n    };  \r\n    return text.replace(/[&<>\"']/g, function(m) { return map[m]; });\r\n}\r\n\r\n////// css //////\r\n\r\nlet cssInitd = new Set();\r\n\r\nfunction initCss(css) {\r\n    if (cssInitd.has(css)) {\r\n        return;\r\n    }\r\n    $(`<style>${css}</style>`).appendTo('head');\r\n    cssInitd.add(css);\r\n}\r\n\r\ninitCss(`\r\n    .twcheese-popup {\r\n        z-index: 13000;\r\n        display: block;\r\n        position: fixed;\r\n        top: 60px;\r\n        border: 19px solid #804000;\r\n        border-image: url(${ImageSrc.popupBorder}) 19 19 19 19 repeat;\r\n        left: 50%;\r\n        -webkit-transform: translateX(-50%);\r\n        transform: translateX(-50%);\r\n    }\r\n`);\r\n\r\n//////// faders ///////////\r\n\r\n\r\nfunction fadeGameContent () {\r\n    $('body').append('<div id=\"fader\" class=\"fader\">');\r\n};\r\n\r\n\r\nfunction unfadeGameContent() {\r\n    $('#fader').remove();\r\n    $('.twcheese-fader').remove();\r\n}\r\n\r\n\r\nfunction fadeGameContentExcept(el) {\r\n    let $el = $(el);\r\n\r\n    if ($el.length < 1) {\r\n        throw new Error('element does not exist');\r\n    }\r\n    if ($el.length > 1) {\r\n        throw new Error('expected exactly one element, got more');\r\n    }\r\n\r\n    let $faderLeft = spawnFader();\r\n    let $faderRight = spawnFader();\r\n    let $faderTopMenu = spawnFader();\r\n    let $faderTopScreen = spawnFader();\r\n    let $faderBottomScreen = spawnFader();\r\n    let $faderBottomMenu = spawnFader();\r\n\r\n    var $bottomMenu = $('#footer');\r\n    var $topMenu = $('#topContainer');\r\n    var topMenuHeight, screenWidth, screenHeight;\r\n\r\n    function updateMeasurements() {\r\n        topMenuHeight = $topMenu.outerHeight() + 3;\r\n        screenWidth = $('body').outerWidth();\r\n        screenHeight = Math.max($('#ds_body')[0].scrollHeight, document.documentElement.clientHeight);\r\n    }\r\n\r\n    function updateFaders() {\r\n        updateMeasurements();\r\n        updateFaderLeft();\r\n        updateFaderRight();\r\n        updateFaderTopMenu();\r\n        updateFaderTopScreen();\r\n        updateFaderBottomScreen();\r\n        updateFaderBottomMenu();\r\n    }\r\n\r\n\r\n    function updateFaderLeft() {\r\n        let offset = $el.offset();\r\n        $faderLeft.css({\r\n            top: 0,\r\n            left: 0,\r\n            width: offset.left,\r\n            height: screenHeight\r\n        });\r\n    }\r\n\r\n\r\n    function updateFaderRight() {\r\n        let offset = $el.offset();\r\n        $faderRight.css({\r\n            top: 0,\r\n            right: 0,\r\n            width: screenWidth - $el.outerWidth() - offset.left,\r\n            height: screenHeight\r\n        });\r\n    }\r\n\r\n\r\n    function updateFaderTopScreen() {\r\n        let offset = $el.offset();\r\n        $faderTopScreen.css({\r\n            top: topMenuHeight,\r\n            left: offset.left,\r\n            height: offset.top - topMenuHeight,\r\n            width: $el.outerWidth(),\r\n            zIndex: $('.top_bar').zIndex() - 1\r\n        });\r\n    }\r\n\r\n\r\n    function updateFaderBottomScreen() {\r\n        let offset = $el.offset();\r\n        $faderBottomScreen.css({\r\n            top: offset.top + $el.outerHeight(),\r\n            left: offset.left,\r\n            height: screenHeight - offset.top - $el.outerHeight(),\r\n            width: $el.outerWidth(),\r\n            zIndex: $bottomMenu.zIndex() - 1\r\n        });\r\n    }\r\n\r\n\r\n    function updateFaderTopMenu() {\r\n        let offset = $el.offset();\r\n        $faderTopMenu.css({\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: offset.left,\r\n            height: topMenuHeight,\r\n            width: $el.outerWidth()\r\n        });\r\n    }\r\n\r\n\r\n    function updateFaderBottomMenu() {\r\n        let offset = $el.offset();\r\n        $faderBottomMenu.css({\r\n            position: 'fixed',\r\n            bottom: 0,\r\n            left: offset.left,\r\n            height: $bottomMenu.outerHeight(),\r\n            width: $el.outerWidth()\r\n        });\r\n    }\r\n\r\n\r\n    function spawnFader() {\r\n        let css = {\r\n            position: 'absolute',\r\n            background: 'black',\r\n            opacity: 0.5,\r\n            zIndex: 12000\r\n        };\r\n        return $('<div class=\"twcheese-fader\"></div>').css(css).appendTo($('body'));\r\n    }\r\n\r\n    updateFaders();\r\n    $(window).on('resize', updateFaders);\r\n}\r\n\r\n\r\n// mousetrap ///////////////////////////////\r\n\r\nlet mouseEvents = ['click', 'mousemove', 'mousenter', 'mouseleave', 'mouseover', 'mouseout', 'mousedown', 'mouseup'];\r\nlet mouseBubbleEvents = new Set(['click', 'mousemove', 'mouseover', 'mouseout', 'mousedown', 'mouseup']);\r\nlet mouseEventsNeedSpecial = new Set(['mousenter', 'mouseleave', 'mouseover', 'mouseout']);\r\n\r\nclass Mousetrap {\r\n    constructor() {\r\n        this.$trap = $('<div class=\"twcheese-mousetrap\">').css({\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'cyan',\r\n            opacity: 0.001,\r\n            zIndex: 12000\r\n        })\r\n        this.prevIntendedTarget;\r\n\r\n        this.watchers = {\r\n            // example:\r\n            // click: [{$elements, handler}, {$elements, handler}]\r\n            mouseout: []\r\n        }\r\n\r\n        this.setupHandling();\r\n    }\r\n\r\n    spawn() {\r\n        this.$trap.appendTo('body');\r\n        return this;\r\n    }\r\n\r\n    destruct() {\r\n        this.$trap.remove();\r\n    }\r\n\r\n    setupHandling() {\r\n        let trapEvents = mouseEvents.filter(name => !mouseEventsNeedSpecial.has(name));\r\n\r\n        this.$trap.on(trapEvents.join(' '), (e) => {\r\n            this.$trap.hide();\r\n            let intendedTarget = document.elementFromPoint(e.offsetX, e.offsetY);\r\n            this.$trap.show();\r\n\r\n            this.notifyWatchers(e.type, e, intendedTarget);\r\n\r\n            if (e.type === 'mousemove' && intendedTarget !== this.prevIntendedTarget) {\r\n                this.notifyWatchers('mousenter', e, intendedTarget);\r\n                this.notifyWatchers('mouseleave', e, this.prevIntendedTarget);\r\n                this.notifyWatchers('mouseover', e, intendedTarget);\r\n\r\n                // mouseout\r\n                for (let watcher of this.watchers.mouseout) {\r\n                    watcher.$elements.each((i, el) => {\r\n                        if (\r\n                            this.doesElMatch(el, 'mouseover', this.prevIntendedTarget)\r\n                            && !this.doesElMatch(el, 'mouseover', intendedTarget)\r\n                        ) {\r\n                            watcher.handler.call(el, e);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            this.prevIntendedTarget = intendedTarget;\r\n        });\r\n    }\r\n\r\n    notifyWatchers(eventName, e, intendedTarget) {\r\n        if (typeof this.watchers[eventName] === 'undefined') {\r\n            return;\r\n        }\r\n        for (let watcher of this.watchers[eventName]) {\r\n            watcher.$elements.each((i, el) => {\r\n                if (this.doesElMatch(el, eventName, intendedTarget)) {\r\n                    watcher.handler.call(el, e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    doesElMatch(el, eventName, intendedTarget) {\r\n        return el === intendedTarget\r\n        || (mouseBubbleEvents.has(eventName) && $.contains(el, intendedTarget));\r\n    }\r\n\r\n    on(eventName, $elements, handler) {\r\n        if (typeof this.watchers[eventName] === 'undefined') {\r\n            this.watchers[eventName] = [];\r\n        }\r\n        this.watchers[eventName].push({$elements, handler});\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/Models/Debug/DebugEvents.js\nconst DebugEvents = {\r\n    PHASE_COMPLETION_READY: 'phase_completion_ready',\r\n    PHASE_COMPLETION_NOT_READY: 'phase_completion_not_ready',\r\n    PHASE_CHANGED: 'phase_changed',\r\n    QUESTION_ANSWERED: 'question_answered',\r\n    QUESTION_NOT_ANSWERED: 'question_not_answered',\r\n    OPTION_VALUE_CHANGED: 'answer_value_changed',\r\n    BUG_REPORT_SUCCEEDED: 'bug_report_succeeded',\r\n    BUG_REPORT_FAILED: 'bug_report_failed',\r\n    USER_REJECTED: 'user_rejected'\r\n};\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/Models/Debug/PhaseTypes.js\nconst PhaseTypes = {\r\n    ATTEMPT: 'attempt',\r\n    QUESTION: 'question',\r\n    REPORT: 'report'\r\n};\r\n\r\n\n// CONCATENATED MODULE: ./src/Models/Debug/QuestionTypes.js\nconst QuestionTypes = {\r\n    VALUE: 'value',\r\n    FREE_FORM: 'free_form',\r\n    SELECT: 'select'\r\n};\r\n\r\n\n// CONCATENATED MODULE: ./src/Widget/Debug/QuestionWidget.js\n\r\n\r\n\r\n\r\n\r\nclass QuestionWidget_QuestionWidget extends AbstractWidget {\r\n    constructor(question) {\r\n        super();\r\n        this.question = question;\r\n        this.initStructure(question);\r\n        this.watchSelf();\r\n    }\r\n\r\n    initStructure() {\r\n        this.$el = $(this.createHtml().trim());\r\n        this.$answers = this.$el.find('.twcheese-debug-question-answer');\r\n    }\r\n\r\n    createHtml() {\r\n        let options = [];\r\n\r\n        for (let i = 0; i < this.question.options.length; i++) {\r\n            let option = this.question.options[i];\r\n            options.push(`\r\n                <div class=\"twcheese-debug-question-answer ${option.className}\" data-index=\"${i}\">\r\n                    ${option.text}\r\n                </div>\r\n            `);\r\n        }\r\n\r\n        switch (this.question.getType()) {\r\n            case QuestionTypes.FREE_FORM:\r\n                return this._createHtmlQuestionFreeForm();\r\n            case QuestionTypes.VALUE:\r\n                return this._createHtmlQuestionAboutValue(options);\r\n            case QuestionTypes.SELECT:\r\n                return this._createHtmlQuestionSelect(options);\r\n            default:\r\n                throw Error('unrecognized question type');    \r\n        }                \r\n    }\r\n\r\n    _createHtmlQuestionSelect(options) {\r\n        return `\r\n            <div class=\"twcheese-debug-question\">\r\n                <div class=\"twcheese-debug-question-text\">${this.question.text}</div>\r\n                <hr/>\r\n                ${options.join('')}\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    _createHtmlQuestionFreeForm() {\r\n        let option = this.question.options[0];\r\n\r\n        return `\r\n            <div class=\"twcheese-debug-question\">\r\n                <div class=\"twcheese-debug-question-text\">${this.question.text}</div>\r\n                <hr/>\r\n                <textarea\r\n                    placeholder=\"${escapeHtml(option.text)}\"\r\n                    class=\"twcheese-debug-question-answer ${option.className}\"\r\n                    data-index=\"0\"\r\n                >${escapeHtml(option.value)}</textarea>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    _createHtmlQuestionAboutValue(options) {\r\n        let valueRendered = this.createHtmlForValue(this.question.value);\r\n\r\n        return `\r\n            <div class=\"twcheese-debug-question\">\r\n                <div class=\"twcheese-debug-question-text\">${this.question.text}</div>\r\n                <hr/>\r\n                <div class=\"twcheese-debug-question-content\">\r\n                    <div class=\"twcheese-debug-question-value\">${valueRendered}</div>\r\n                    <div style=\"padding-left: 10px;\">${options.join('')}</div>\r\n                </div>                \r\n            </div>\r\n        `;\r\n    }\r\n\r\n    createHtmlForValue(value) {\r\n        if (typeof value === 'undefined' || value === null) {\r\n            return '<span class=\"non-existent\">non-existent</span>';\r\n        }\r\n        if (typeof value.toDebugString === 'function') {\r\n            return escapeHtml(value.toDebugString());\r\n        }\r\n        if (typeof value === 'object') {\r\n            return Object.entries(value).map((input) => {\r\n                let [propName, propVal] = input;\r\n                return `<div class=\"twcheese-debug-value-iter\">\r\n                    <div class=\"key\">${this.createLabelForValue(propVal, propName)}</div>\r\n                    <div class=\"value\">${this.createHtmlForValue(propVal)}</div>\r\n                </div>`;\r\n            }).join('');\r\n        }\r\n        return escapeHtml(value.toString());\r\n    }\r\n\r\n    createLabelForValue(value, defaultLabel) {\r\n        if (typeof value.imageSrc === 'function') {\r\n            return `<image src=\"${value.imageSrc()}\" />`;\r\n        }\r\n        return defaultLabel;\r\n    }\r\n\r\n    watchSelf() {\r\n        if (this.question.getType() === QuestionTypes.FREE_FORM) {\r\n            this.$answers.on('input', (e) => {\r\n                let $answer = $(e.target);\r\n                this.question.options[0].setValue($answer.val());\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.$answers.on('click', (e) => {\r\n            this.$answers.removeClass('active');\r\n            let $answer = $(e.target).addClass('active');\r\n            this.question.setSelectedOption($answer.data('index'));\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\ninitCss(`\r\n    .twcheese-debug-question {\r\n        margin-bottom: 40px;\r\n    }\r\n\r\n    .twcheese-debug-question-text {\r\n        font-size: 13px;\r\n        font-weight: 700;\r\n        color: rgb(200, 200, 200);\r\n    }\r\n\r\n    .twcheese-debug-question hr {\r\n        height: 1px;\r\n        background-color: white;\r\n        border: none;\r\n        opacity: 0.2;\r\n    }\r\n\r\n    .twcheese-debug-question-content {\r\n        display: flex;\r\n        justify-content: space-between;        \r\n        align-items: center;\r\n    }\r\n\r\n    .twcheese-debug-question-value {\r\n        line-height: 20px;\r\n    }\r\n    .twcheese-debug-question-value img {\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .twcheese-debug-question-value .non-existent {\r\n        font-style: italic;\r\n    }\r\n\r\n    .twcheese-debug-question-answer {\r\n        margin: 10px 0;\r\n        background-color: rgb(23, 23, 23);\r\n        border: 1px solid rgb(75, 75, 75);\r\n        height: 30px;\r\n        border-radius: 15px;\r\n        line-height: 30px;\r\n        white-space: nowrap;\r\n        padding: 0 10px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n    }\r\n    .twcheese-debug-question-answer:hover {\r\n        border-color: rgb(150, 150, 150);\r\n    }\r\n    .twcheese-debug-question-answer.active {\r\n        border-color: darkOrange;\r\n        background-color: black;\r\n    }\r\n    \r\n    .twcheese-debug-question-answer.correct {\r\n        border-color: rgb(0, 70, 0);\r\n    }\r\n    .twcheese-debug-question-answer.correct:hover {\r\n        border-color: rgb(0, 100, 0);\r\n    }\r\n    .twcheese-debug-question-answer.correct.active {\r\n        border-color: rgb(0, 150, 0);\r\n    }\r\n\r\n    .twcheese-debug-question-answer.incorrect {\r\n        border-color: rgb(100, 0, 0);\r\n    }\r\n    .twcheese-debug-question-answer.incorrect:hover {\r\n        border-color: rgb(175, 0, 0);\r\n    }\r\n    .twcheese-debug-question-answer.incorrect.active {\r\n        border-color: rgb(250, 0, 0);\r\n    }\r\n\r\n    .twcheese-debug-question-answer.free-form {\r\n        border: 1px solid rgb(75, 75, 75);\r\n        border-radius: 3px;\r\n        white-space: pre-wrap;\r\n        color: inherit;\r\n        padding: 2px 5px;\r\n        text-align: left;\r\n        line-height: normal;\r\n        height: 120px;\r\n        width: calc(100% - 6px);\r\n        resize: vertical;\r\n        cursor: text;\r\n    }\r\n\r\n    .twcheese-debug-value-iter {\r\n        display: flex;\r\n    }\r\n    .twcheese-debug-value-iter > div:nth-child(2) {\r\n        padding-left: 5px;\r\n    }\r\n\r\n`);\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/Widget/Debug/AttemptWidget.js\n\r\n\r\n\r\n\r\nclass AttemptWidget_AttemptWidget extends AbstractWidget {\r\n    constructor(phase) {\r\n        super();\r\n        this.phase = phase;\r\n        this.initStructure();\r\n        this.watchSelf();\r\n        this.$abort.hide();\r\n    }\r\n\r\n    initStructure() {\r\n        this.$el = $(this.createHtml().trim());\r\n        this.$abort = this.$el.find('.twcheese-debug-attempt-abort');\r\n    }\r\n\r\n    createHtml() {\r\n        if (this.phase.instructions) {\r\n            return this.createHtmlForUserInteraction();\r\n        }\r\n        return this.createHtmlForAutoAttempt();\r\n    }\r\n\r\n    createHtmlForUserInteraction() {\r\n        return `\r\n            <div class=\"twcheese-debug-attempt\">\r\n                <p>${this.phase.instructions}</p>\r\n                <div style=\"text-align: center;\">\r\n                    <div class=\"twcheese-debug-attempt-abort\">Can't do it</div>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    createHtmlForAutoAttempt() {\r\n        return `\r\n            <div class=\"twcheese-debug-attempt\">\r\n                Standby for <i>${this.phase.name}</i>.\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    watchSelf() {\r\n        this.$abort.on('click', () => this.phase.userAbort());\r\n    }    \r\n\r\n    appendTo($el) {\r\n        setTimeout(() => this.showAbortButton(), 10000);\r\n        return super.appendTo($el);\r\n    }\r\n\r\n    showAbortButton() {\r\n        this.$abort.show();\r\n        $(this).trigger('change');\r\n    }\r\n\r\n}\r\n\r\n\r\ninitCss(`\r\n    .twcheese-debug-attempt-abort {\r\n        display: inline-block;\r\n        margin: 10px 0;\r\n        background-color: rgb(23, 23, 23);\r\n        border: 1px solid rgb(75, 75, 75);\r\n        height: 30px;\r\n        border-radius: 15px;\r\n        line-height: 30px;\r\n        white-space: nowrap;\r\n        padding: 0 10px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n    }\r\n    .twcheese-debug-attempt-abort:hover {\r\n        border-color: rgb(150, 150, 150);\r\n    }   \r\n`);\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/Widget/Debug/ReportWidget.js\n\r\n\r\n\r\n\r\n\r\nclass ReportWidget_ReportWidget extends AbstractWidget {\r\n    constructor(phase) {\r\n        super();\r\n        this.phase = phase;\r\n        this.initStructure();\r\n        this.watchPhase();\r\n    }\r\n\r\n    initStructure() {\r\n        this.$el = $(this.createHtml().trim());\r\n    }\r\n\r\n    createHtml() {\r\n        return `<div class=\"twcheese-debug-report\"><i>Submitting report...</i></div>`;\r\n    }\r\n\r\n    watchPhase() {\r\n        $(this.phase).on(DebugEvents.BUG_REPORT_SUCCEEDED, e => {\r\n            this.$el.html(`<p>Bug reported!</p>`);\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\ninitCss(`\r\n    .twcheese-debug-report {\r\n        min-height: 200px;\r\n    }    \r\n`);\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/Widget/Debug/DebuggerWidget.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass DebuggerWidget_DebuggerWidget extends AbstractWidget {\r\n    constructor() {\r\n        super();\r\n        this.initStructure();\r\n        this.watchSelf();\r\n        this.watchGlobal();\r\n        this.process = null;\r\n    }\r\n\r\n    initStructure() {\r\n        this.$el = $(this.createHtml().trim());\r\n        this.$header = this.$el.find('.twcheese-debugger-header');\r\n        this.$content = this.$el.find('.twcheese-debugger-content');\r\n        this.$nav = this.$el.find('.twcheese-debugger-nav');\r\n        this.$next = this.$el.find('.twcheese-debugger-next');        \r\n        this.$processName = this.$el.find('.twcheese-debugger-process-name');\r\n        this.$inspector = this.$el.find('.twcheese-debugger-inspector');\r\n        this.$iframe = this.$inspector.find('iframe');\r\n        this.$iframeOverlay = this.$inspector.find('.iframe-overlay');\r\n    }\r\n\r\n    createHtml() {\r\n        return `\r\n            <div class=\"twcheese-debugger\">\r\n                <div>\r\n                    <div class=\"twcheese-debugger-header\">\r\n                        <div>REPORT A BUG</div>\r\n                        <div class=\"twcheese-debugger-process-name\"></div>\r\n                    </div>\r\n                    <div class=\"twcheese-debugger-content\">blah bla blucci</div>\r\n                    <div class=\"twcheese-debugger-nav\">\r\n                        <div class=\"twcheese-debugger-next\"></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"twcheese-debugger-inspector\">\r\n                    <iframe scrolling=\"no\"></iframe>\r\n                    <div class=\"iframe-overlay\"></div>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    watchSelf() {\r\n        this.$next.on('click', () => {\r\n            this.process.goToNextPhase();\r\n        });\r\n    }\r\n\r\n    watchGlobal() {\r\n        $(window).on('resize', () => this.updateScrolling());\r\n    }\r\n\r\n    startProcessForLastUsedToolIfSensible() {\r\n        if (this.process) {\r\n            return;\r\n        }\r\n        this.startProcess(window.TwCheese.newDebugProcess(TwCheese.lastToolUsedId));\r\n    }\r\n\r\n    startProcess(process) {\r\n        this.$next.hide();\r\n        this.process = process;\r\n        this.$processName.text(process.name);\r\n        \r\n        $(process).on(DebugEvents.PHASE_COMPLETION_READY, () => {\r\n            if (this.process.hasNextPhase()) {\r\n                this.$next.show();\r\n            }\r\n        });\r\n        $(process).on(DebugEvents.PHASE_COMPLETION_NOT_READY, () => {\r\n            this.$next.hide();\r\n        });\r\n        $(process).on(DebugEvents.PHASE_CHANGED, () => {\r\n            this.renderCurrentPhase();\r\n        });\r\n\r\n        process.start();\r\n    }\r\n\r\n    renderCurrentPhase() {\r\n        this.$inspector.hide();\r\n        this.$content.html('');\r\n        if (!this.process.hasNextPhase()) {\r\n            this.$next.hide();\r\n        }\r\n\r\n        let phase = this.process.getCurrentPhase();\r\n\r\n        switch (phase.getType()) {\r\n            case PhaseTypes.QUESTION:   this._renderPhaseQuestion(phase);   break;\r\n            case PhaseTypes.ATTEMPT:    this._renderPhaseAttempt(phase);    break;\r\n            case PhaseTypes.REPORT:     this._renderPhaseReport(phase);     break;\r\n            default: throw Error('unrecognized phase');\r\n        }\r\n\r\n        setTimeout(() => this.updateScrolling(), 200);\r\n        $(this).trigger('change');\r\n    }\r\n\r\n    _renderPhaseQuestion(phase) {\r\n        for (let question of phase.questions) {\r\n            (new QuestionWidget_QuestionWidget(question)).appendTo(this.$content);\r\n        }\r\n        if (typeof phase.examinedHtml === 'string') {\r\n            this.openInspector(phase.examinedHtml);\r\n        }\r\n    }\r\n\r\n    _renderPhaseAttempt(phase) {\r\n        let widget = (new AttemptWidget_AttemptWidget(phase)).appendTo(this.$content);\r\n        $(widget).on('change', () => this.updateScrolling());\r\n    }\r\n\r\n    _renderPhaseReport(phase) {\r\n        (new ReportWidget_ReportWidget(phase)).appendTo(this.$content);\r\n    }\r\n\r\n    updateScrolling() {\r\n        // https://github.com/rochal/jQuery-slimScroll/issues/16\r\n        if (this.$content.parent('.slimScrollDiv').size() > 0) {\r\n            this.$content.parent().replaceWith(this.$content);\r\n            this.$content.height('auto');\r\n        }        \r\n\r\n        let availableVert = this.$el.innerHeight() - this.$header.outerHeight() - this.$nav.outerHeight();\r\n\r\n        this.$content.slimScroll({\r\n            height: Math.min(availableVert, this.$content.outerHeight()),\r\n            color: 'rgb(150, 150, 150)',\r\n            opacity: 0.3,\r\n            borderRadius: 0,\r\n            alwaysVisible: true\r\n        });\r\n    }\r\n\r\n    openInspector(html) {\r\n        let win = this.$iframe[0].contentWindow;\r\n        let doc = win.document;\r\n        doc.open();\r\n        doc.write(html);\r\n        doc.close();\r\n\r\n        setTimeout(() => {\r\n            if (typeof win.Timing !== 'undefined') {\r\n                win.Timing.pause();\r\n            }\r\n            this.$inspector.show(); // must be visible for size to be computed\r\n            let width = Math.min(win.document.body.scrollWidth, this.calcMaxIframeWidth());\r\n            this.$iframe.css({width});\r\n            this.$iframeOverlay.css({width});\r\n            $(this).trigger('change');\r\n        }, 200);\r\n    }\r\n\r\n    calcMaxIframeWidth() {\r\n        let menuWidth = 50;\r\n        let margin = 20;\r\n        return document.documentElement.clientWidth - this.$header.outerWidth() - menuWidth - 2*margin;\r\n    }\r\n\r\n}\r\n\r\n\r\ninitCss(`\r\n    .twcheese-debugger {\r\n        height: 100%;\r\n        display: flex;\r\n    }\r\n\r\n    .twcheese-debugger a {\r\n        font-weight: normal;\r\n        font-size: 12px;\r\n        color: rgb(63, 156, 214);\r\n        text-decoration: underline;\r\n    }\r\n    .twcheese-debugger a:hover {\r\n        color: rgb(96, 174, 221);\r\n    }\r\n\r\n    .twcheese-debugger-header {\r\n        background-color: rgb(56, 56, 56);\r\n        padding: 9px 20px;\r\n        font-weight: 700;\r\n        font-size: 14px;\r\n        color: rgb(200, 200, 200);\r\n        cursor: default;\r\n        min-width: 300px;\r\n    }\r\n\r\n    .twcheese-debugger-process-name {\r\n        font-weight: normal;\r\n        font-size: 11px;\r\n        margin-top: 3px;\r\n        white-space: nowrap;\r\n    }\r\n\r\n    .twcheese-debugger-content {\r\n        box-sizing: border-box;\r\n        padding: 20px;\r\n    }\r\n\r\n    .twcheese-debugger-nav {\r\n        padding: 20px 10px;\r\n        height: 20px;\r\n    }\r\n\r\n    .twcheese-debugger-next {\r\n        width: 0;\r\n        height: 0;\r\n        border: 10px solid transparent;\r\n        cursor: pointer;\r\n        webkit-filter: brightness(0.7);\r\n        filter: brightness(0.7);\r\n    }\r\n\r\n    .twcheese-debugger-next {\r\n        border-left: 20px solid white;\r\n        float: right;\r\n    }\r\n\r\n    .twcheese-debugger-next:hover {\r\n        webkit-filter: brightness(1);\r\n        filter: brightness(1);\r\n    }\r\n\r\n    /* inspector */\r\n\r\n    .twcheese-debugger-inspector {\r\n        position: relative;\r\n        width: 100%;\r\n        background-color: rgb(30, 30, 30);\r\n        line-height: unset;\r\n    }\r\n\r\n    .twcheese-debugger-inspector iframe,\r\n    .twcheese-debugger-inspector .iframe-overlay {\r\n        width: 500px;\r\n        height: calc(100% - 40px);\r\n        margin: 20px;\r\n        border: none;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .twcheese-debugger-inspector .iframe-overlay {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        background-color: cyan;\r\n        opacity: 0.1;\r\n    }\r\n\r\n`);\r\n\r\n\n// CONCATENATED MODULE: ./src/Widget/SidebarWidget.js\n\r\n\r\n\r\n\r\n\r\n\r\nclass SidebarWidget_SidebarWidget extends AbstractWidget {\r\n    constructor() {\r\n        super();\r\n        this.initStructure();\r\n        this.watchSelf();\r\n        this.isExpandedVert = false;\r\n        this.activeMenuItem = null;\r\n\r\n        this.contents = {\r\n            bugReporter: (new DebuggerWidget_DebuggerWidget()).appendTo(this.$content)\r\n        };\r\n        this.watchContents();\r\n    }\r\n\r\n    initStructure() {\r\n        this.$el = $(this.createHtml().trim());\r\n        this.$menuMain = this.$el.find('.menu-item.main');\r\n        this.$mainIcon = this.$menuMain.find('.icon');\r\n        this.$menuBug = this.$el.find('.menu-item.bug');\r\n        this.$menuGithub = this.$el.find('.menu-item.github');\r\n        this.$content = this.$el.find('.twcheese-sidebar-content');\r\n    }\r\n\r\n    createHtml() {\r\n        return `\r\n            <div id=\"twcheese-sidebar\">\r\n                <div class=\"twcheese-sidebar-menu\">\r\n                    <div class=\"menu-item main\"><div class=\"icon\"></div></div>\r\n                    <div class=\"menu-item bug\"><div class=\"icon\"></div></div>\r\n                    <a class=\"menu-item github\"\r\n                      href=\"https://github.com/cheesasaurus/twcheese/releases\"\r\n                      target=\"_blank\"\r\n                    ><div class=\"icon\"></div></a>\r\n                </div>\r\n                <div class=\"twcheese-sidebar-content\"></div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    watchSelf() {\r\n        this.$menuMain.on('click', () => this.toggleExpand());\r\n\r\n        this.$menuBug.on('click', () => {\r\n            if (this.$menuBug.hasClass('active')) {\r\n                this.$menuBug.removeClass('active');\r\n                this.activeMenuItem = null;\r\n                this.shrinkHoriz();\r\n            } else {\r\n                this.contents.bugReporter.startProcessForLastUsedToolIfSensible();\r\n                this.$menuBug.addClass('active');\r\n                this.activeMenuItem = 'bug';\r\n                this.expandHoriz();\r\n            }\r\n        });\r\n    }\r\n\r\n    watchContents() {\r\n        $.each(this.contents, (key, content) => {\r\n            $(content).on('change', () => {\r\n                if (this.activeMenuItem) {\r\n                    this.$el.width(this.$el[0].scrollWidth);\r\n                }                \r\n            })\r\n        });\r\n    }\r\n\r\n    async toggleExpand() {\r\n        let durationVert = 200;\r\n        let durationHoriz = this.activeMenuItem ? 200 : 0;\r\n        let durationSpin = durationVert + durationHoriz;\r\n        this.spinMainIcon(durationSpin);\r\n        \r\n        if (this.isExpandedVert) {\r\n            if (this.activeMenuItem) {\r\n                await this.shrinkHoriz(durationHoriz);\r\n            }\r\n            this.shrinkVert(durationVert);\r\n        } else {\r\n            await this.expandVert(durationVert);\r\n            if (this.activeMenuItem) {\r\n                this.expandHoriz(durationHoriz);\r\n            }\r\n        }        \r\n    }\r\n\r\n    spinMainIcon(durationMs) {\r\n        $({deg: 0}).animate({deg: 180}, {\r\n            duration: durationMs,\r\n            step: (angle) => {\r\n                this.$mainIcon.css({\r\n                    transform: 'rotate(' + angle + 'deg)'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    async expandVert(durationMs) {\r\n        this.isExpandedVert = true;\r\n        return new Promise((resolve, reject) => {\r\n            let options = {\r\n                duration: durationMs,\r\n                complete: () => {\r\n                    this.$menuGithub.show();\r\n                    resolve();\r\n                }\r\n            };\r\n            this.$el.animate({\r\n                height: '100%',\r\n                easing: 'linear'\r\n            }, options);\r\n        });\r\n    }\r\n\r\n    shrinkVert(durationMs) {\r\n        this.$menuGithub.hide();\r\n        this.isExpandedVert = false;\r\n        this.$el.animate({\r\n            height: '50px'\r\n        }, durationMs);\r\n    }\r\n\r\n    expandHoriz(durationMs) {\r\n        let options = {\r\n            duration: durationMs,\r\n        };\r\n        this.$el.animate({\r\n            width: this.$el[0].scrollWidth\r\n        }, options);\r\n    }\r\n\r\n    async shrinkHoriz(durationMs) {\r\n        return new Promise((resolve, reject) => {\r\n            let options = {\r\n                duration: durationMs,\r\n                complete: resolve\r\n            };\r\n            this.$el.animate({\r\n                width: '50px'\r\n            }, options);\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\ninitCss(`\r\n    #twcheese-sidebar {\r\n        position: fixed;\r\n        display: inline-block;\r\n        z-index: 20000;\r\n        top: 0;\r\n        left: 0;\r\n        height: 50px;\r\n        max-height: 100%;\r\n        overflow-x: hidden;\r\n        overflow-y: hidden;\r\n        width: 50px;\r\n        max-width: 100%;\r\n    }\r\n\r\n    /* menu **************************************************/\r\n\r\n    .twcheese-sidebar-menu {\r\n        position: relative;\r\n        display: block;\r\n        width: 50px;\r\n        height: 100%;\r\n        background-color: rgb(51, 51, 51);\r\n    }\r\n\r\n    .twcheese-sidebar-menu.expanded {\r\n        height: 100%;\r\n    }\r\n\r\n    .twcheese-sidebar-menu .menu-item {\r\n        position: relative;\r\n        display: block;\r\n        box-sizing: border-box;\r\n        width: 50px;\r\n        height: 50px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .twcheese-sidebar-menu .menu-item .icon {\r\n        position: absolute;\r\n        box-sizing: border-box;\r\n        position: absolute;\r\n        width: 50px;\r\n        height: 50px;\r\n        \r\n        background-size: 36px 36px;\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n    }\r\n    \r\n\r\n    .twcheese-sidebar-menu .menu-item.main {\r\n        background-color: darkOrange;\r\n    }\r\n\r\n    .twcheese-sidebar-menu .menu-item.main .icon {\r\n        background-image: url('${ImageSrc.sidebarMain}');\r\n    }\r\n    .twcheese-sidebar-menu .menu-item.main:hover .icon {\r\n        -webkit-filter: brightness(2);\r\n        filter: brightness(2);\r\n    }\r\n\r\n    .twcheese-sidebar-menu .menu-item.bug .icon {\r\n        background-image: url('${ImageSrc.sidebarBug}');\r\n        -webkit-filter: brightness(0.7);\r\n        filter: brightness(0.7);\r\n    }\r\n\r\n    .twcheese-sidebar-menu .menu-item.github {\r\n        position: absolute;\r\n        display: none;\r\n        bottom: 0;\r\n        margin-top: 50px;\r\n    }\r\n\r\n    .twcheese-sidebar-menu .menu-item.github .icon {\r\n        background-image: url('${ImageSrc.sidebarGithub}');\r\n        -webkit-filter: brightness(0.7);\r\n        filter: brightness(0.7);\r\n    }\r\n\r\n    .twcheese-sidebar-menu .menu-item:hover .icon,\r\n    .twcheese-sidebar-menu .menu-item.active .icon {\r\n        -webkit-filter: brightness(1);\r\n        filter: brightness(1);\r\n    }\r\n\r\n    /* content  **************************************************/\r\n\r\n    .twcheese-sidebar-content {\r\n        position: absolute;\r\n        display: block;\r\n        left: 50px;\r\n        height: 100%;\r\n        top: 0;\r\n        background-color: rgb(37, 37, 37);\r\n        color: rgb(187, 187, 187);\r\n    }\r\n\r\n\r\n`);\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/ToolSetup/Sidebar.js\n\r\n\r\nTwCheese.registerTool({\r\n    id: 'Sidebar',\r\n    use: () => {\r\n        let widget = new SidebarWidget_SidebarWidget();\r\n        widget.appendTo($('body'));\r\n    },\r\n    getDebugProcess: () => null\r\n});\r\n\n\n/***/ })\n/******/ ]);"]}